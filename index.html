<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üè∏ BadmintonPocket</title>
  <style>
    :root { --sidebar-width: 240px; }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f0f8ff;
      color: #222;
      transition: background .3s, color .3s;
    }
    .dark-mode { background: #222; color: #eee; }
    #sidebar-toggle {
      position: fixed; top: 12px; left: 12px;
      font-size: 1.5rem; background: none; border: none;
      color: #1e90ff; cursor: pointer; z-index: 2000;
    }
    .sidebar {
      position: fixed; top: 0; left: 0;
      width: var(--sidebar-width); height: 100vh;
      background: #1e90ff; padding: 20px 10px;
      transform: translateX(calc(-1 * var(--sidebar-width)));
      transition: transform .3s ease; z-index: 1500;
    }
    .sidebar header { padding-top: 48px; }
    body.sidebar-open .sidebar { transform: translateX(0); }
    @media (min-width: 768px) {
      .sidebar { transform: translateX(0) !important; }
      #sidebar-toggle { display: none; }
      main { margin-left: var(--sidebar-width); }
    }
    .sidebar h1 {
      margin: 0 0 20px; color: #fff; font-size: 1.5rem;
    }
    .sidebar nav ul { list-style: none; padding: 0; margin: 0; }
    .sidebar nav li { margin-bottom: 1rem; }
    .sidebar a {
      color: #fff; text-decoration: none;
    }
    .sidebar a.active { font-weight: bold; }
    .sidebar a:hover { text-decoration: underline; }
    #dark-toggle {
      margin-top: auto; padding: 8px 12px;
      background: none; border: 1px solid #fff;
      color: #fff; cursor: pointer;
    }
    main {
      padding: 20px;
      transition: margin-left .3s ease;
    }
    .page { display: none; }
    .page.active { display: block; }
    iframe {
      width: 100%; max-width: 560px;
      height: 315px; border: none;
      margin-bottom: 20px;
    }
    .player-card {
      background: #eaf7ff; border-radius: 8px;
      padding: 20px; margin-top: 10px;
    }
    .dark-mode .player-card { background: #444; color: #eee; }
    .dark-mode iframe { background: #222; }
    /* Workouts */
    #workout-plan { margin-top: 20px; }
    .workout-day { margin-bottom: 1.5rem; }
    .workout-day h3 {
      margin: 0 0 8px; font-size: 1.2rem;
      border-bottom: 1px solid #ccc; padding-bottom: 4px;
    }
    .workout-day ul { margin: 0; padding-left: 1.2rem; }
    /* AI Chat */
    #chat-window {
      border: 1px solid #ccc; border-radius: 8px;
      height: 300px; padding: 10px; overflow-y: auto;
      background: #fff; display: flex; flex-direction: column;
    }
    .dark-mode #chat-window {
      background: #333; border-color: #555; color: #eee;
    }
    #chat-input-container {
      display: flex; margin-top: 10px;
    }
    #chat-input {
      flex: 1; padding: 8px; border: 1px solid #ccc;
      border-radius: 4px 0 0 4px;
    }
    #chat-send {
      padding: 8px 12px; border: 1px solid #ccc;
      border-left: none; border-radius: 0 4px 4px 0;
      background: #1e90ff; color: #fff; cursor: pointer;
    }
    .dark-mode #chat-input,
    .dark-mode #chat-send {
      background: #555; border-color: #666; color: #eee;
    }
    .chat-message {
      margin-bottom: 8px; padding: 6px 10px; border-radius: 4px;
      max-width: 80%;
    }
    .chat-message.user { background: #e1ffc7; align-self: flex-end; }
    .chat-message.ai   { background: #f0f0f0; align-self: flex-start; }
    .dark-mode .chat-message.ai { background: #555; }
  </style>
</head>
<body>
  <button id="sidebar-toggle">‚ò∞</button>
  <aside class="sidebar">
    <header><h1>üè∏ BadmintonPocket</h1></header>
    <nav>
      <ul>
        <li><a href="#training" class="nav-link active">Training</a></li>
        <li><a href="#players"  class="nav-link">Players</a></li>
        <li><a href="#workouts" class="nav-link">Workouts</a></li>
        <li><a href="#ai-chat"  class="nav-link">AI Chat</a></li>
        <li><a href="#feedback" class="nav-link">Feedback</a></li>
      </ul>
    </nav>
    <button id="dark-toggle">üåô Dark Mode</button>
  </aside>

  <main>
    <!-- Training -->
    <section id="training" class="page active">
      <h2>Training Library</h2>
      <label for="level-select">Category:</label>
      <select id="level-select">
        <option>beginner</option>
        <option>intermediate</option>
        <option>advanced</option>
        <option>footwork</option>
        <option>strategy</option>
      </select>
      <div id="video-list"></div>
    </section>

    <!-- Players -->
    <section id="players" class="page">
      <h2>Players</h2>
      <ul>
        <li><a href="#" class="player-link" data-id="lee-chong-wei">Lee Chong Wei</a></li>
        <li><a href="#" class="player-link" data-id="lin-dan">Lin Dan</a></li>
      </ul>
      <div id="lee-chong-wei" class="player-card">
        <h3>Lee Chong Wei</h3>
        <p>Lightning-fast footwork, deceptive net play.</p>
      </div>
      <div id="lin-dan" class="player-card" hidden>
        <h3>Lin Dan</h3>
        <p>Explosive, clutch performer.</p>
      </div>
    </section>

    <!-- Workouts -->
    <section id="workouts" class="page">
      <h2>Workouts</h2>
      <label for="workout-level-select">Level:</label>
      <select id="workout-level-select">
        <option>beginner</option>
        <option>intermediate</option>
        <option>advanced</option>
      </select>
      <div id="workout-plan"></div>
    </section>

    <!-- AI Chat -->
    <section id="ai-chat" class="page">
      <h2>AI Chat</h2>
      <div id="chat-window"></div>
      <div id="chat-input-container">
        <input id="chat-input" placeholder="Ask me‚Ä¶" />
        <button id="chat-send">Send</button>
      </div>
    </section>

    <!-- Feedback -->
    <section id="feedback" class="page">
      <h2>Feedback</h2>
      <p>Coming soon.</p>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Refs
      const sidebarToggle = document.getElementById('sidebar-toggle');
      const darkToggle    = document.getElementById('dark-toggle');
      const navLinks      = [...document.querySelectorAll('.nav-link')];
      const pages         = [...document.querySelectorAll('.page')];
      const playerLinks   = [...document.querySelectorAll('.player-link')];
      const levelSelect   = document.getElementById('level-select');
      const videoList     = document.getElementById('video-list');
      const workoutSelect = document.getElementById('workout-level-select');
      const workoutPlan   = document.getElementById('workout-plan');
      const chatWindow    = document.getElementById('chat-window');
      const chatInput     = document.getElementById('chat-input');
      const chatSend      = document.getElementById('chat-send');

      // Sidebar
      sidebarToggle.onclick = () =>
        document.body.classList.toggle('sidebar-open');

      // Tabs
      navLinks.forEach(link => {
        link.onclick = e => {
          e.preventDefault();
          navLinks.forEach(l => l.classList.remove('active'));
          pages.forEach(p => p.classList.remove('active'));
          link.classList.add('active');
          document.getElementById(link.getAttribute('href').slice(1))
                  .classList.add('active');
          if (window.innerWidth < 768)
            document.body.classList.remove('sidebar-open');
        };
      });

      // Dark mode
      darkToggle.onclick = () => {
        const isDark = document.body.classList.toggle('dark-mode');
        darkToggle.textContent = isDark ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
      };

      // Players
      playerLinks.forEach(link => {
        link.onclick = e => {
          e.preventDefault();
          document.querySelectorAll('.player-card')
                  .forEach(c => c.hidden = true);
          document.getElementById(link.dataset.id).hidden = false;
        };
      });

      // Video library (2 per category for brevity‚Äîyou can expand)
      const videos = {
        beginner: [
          { title: 'Fix Predictable Shots', url: 'https://www.youtube.com/embed/gqIsUa4gCz4' },
          { title: 'Overhead Pronation', url: 'https://www.youtube.com/embed/JzkigWSDucw' }
        ],
        intermediate: [
          { title: 'Dropshot Drill', url: 'https://www.youtube.com/embed/WY9tbZTuS_c' },
          { title: 'Stance Fix', url: 'https://www.youtube.com/embed/S6idcFJ2Ym8' }
        ],
        advanced: [
          { title: 'Lin vs Lee Analysis', url: 'https://www.youtube.com/embed/R9cd-RwuFk8' },
          { title: 'Footwork Components', url: 'https://www.youtube.com/embed/9gZx_6UYyo0' }
        ],
        footwork: [
          { title: '8 Steps to Speed', url: 'https://www.youtube.com/embed/0E6mm6PgeY4' }
        ],
        strategy: [
          { title: 'Control Tactics', url: 'https://www.youtube.com/embed/MrvYbLAnecY' }
        ]
      };
      function loadVideos(cat) {
        videoList.innerHTML = '';
        (videos[cat]||[]).forEach(v=>{
          const d = document.createElement('div');
          d.innerHTML = `<h3>${v.title}</h3>
                         <iframe src="${v.url}" allowfullscreen></iframe>`;
          videoList.appendChild(d);
        });
      }
      levelSelect.onchange = () => loadVideos(levelSelect.value);
      loadVideos(levelSelect.value);

      // Workouts
      const workouts = {
        beginner: {
          Monday: ['10min jog','4√ó30s shuttles','3√ó15 lunges'],
          Tuesday: ['3√ó15 squats','3√ó10 push-ups','3√ó20s plank']
        },
        intermediate: {
          Monday: ['15min interval run','5√ó40m shuttles'],
          Tuesday: ['4√ó8 goblet squats','4√ó10 rows']
        },
        advanced: {
          Monday: ['20min intervals','6√ó50m shuttles'],
          Tuesday: ['5√ó5 back squats','4√ó6 deadlifts']
        }
      };
      function renderWorkouts(lvl) {
        workoutPlan.innerHTML = '';
        const days = workouts[lvl]||{};
        Object.entries(days).forEach(([day,ex])=>{
          const w = document.createElement('div');
          w.className = 'workout-day';
          w.innerHTML = `<h3>${day}</h3><ul>${ex.map(x=>`<li>${x}</li>`).join('')}</ul>`;
          workoutPlan.appendChild(w);
        });
      }
      workoutSelect.onchange = ()=> renderWorkouts(workoutSelect.value);
      renderWorkouts(workoutSelect.value);

      // AI Chat
      function appendMsg(cls,txt){
        const m=document.createElement('div');
        m.className = 'chat-message '+cls;
        m.textContent=txt;
        chatWindow.appendChild(m);
        chatWindow.scrollTop=chatWindow.scrollHeight;
      }
      chatSend.onclick = () => {
        const txt = chatInput.value.trim();
        if(!txt) return;
        appendMsg('user',txt);
        chatInput.value='';
        // Context-aware mock
        let resp;
        if(/footwork/i.test(txt)) resp='Focus split-step drills in your footwork.';
        else if(/smash/i.test(txt)) resp='Your smash is strong‚Äîrecover faster to center.';
        else if(/drop/i.test(txt)) resp='Work on disguise before your drop shots.';
        else resp='Keep mixing multi-shuttle drills and shadow footwork.';
        setTimeout(()=>appendMsg('ai',resp),400);
      };
      chatInput.addEventListener('keypress',e=>e.key==='Enter'&&chatSend.click());
    });
  </script>
</body>
</html>